<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Toolbox - Your Daily Utility Hub</title>
  <style>
    /* Reset */
    * {
      margin: 0; padding: 0; box-sizing: border-box;
      font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
    }

    body {
      display: flex;
      min-height: 100vh;
      background: #f0f2f5;
      color: #333;
    }

    /* Sidebar */
    nav {
      width: 260px;
      background: #24292e;
      color: #fff;
      display: flex;
      flex-direction: column;
      padding: 20px 15px;
      position: fixed;
      top: 0; left: 0; bottom: 0;
      overflow-y: auto;
    }
    nav h1 {
      font-size: 1.7rem;
      margin-bottom: 5px;
      font-weight: 700;
      letter-spacing: 1.2px;
      color: #58a6ff;
      user-select: none;
    }
    nav p {
      font-size: 0.9rem;
      margin-bottom: 25px;
      color: #9ba1a6;
    }
    nav button {
      background: none;
      border: none;
      color: #cdd9e5;
      font-size: 1rem;
      padding: 10px 15px;
      margin-bottom: 8px;
      text-align: left;
      border-radius: 6px;
      cursor: pointer;
      transition: background 0.25s;
      display: flex;
      align-items: center;
      gap: 8px;
      user-select: none;
    }
    nav button:hover, nav button.active {
      background: #58a6ff;
      color: white;
    }
    nav button svg {
      width: 18px; height: 18px;
      fill: currentColor;
    }

    /* Main content */
    main {
      margin-left: 260px;
      padding: 25px 30px;
      flex: 1;
      overflow-y: auto;
    }

    /* Section styling */
    section {
      display: none;
      background: white;
      border-radius: 10px;
      padding: 20px 25px;
      box-shadow: 0 4px 10px rgb(0 0 0 / 0.08);
      margin-bottom: 30px;
    }
    section.active {
      display: block;
    }

    h2 {
      margin-bottom: 20px;
      color: #24292e;
      font-weight: 700;
      font-size: 1.5rem;
      user-select: none;
    }

    label {
      display: block;
      margin: 10px 0 6px 0;
      font-weight: 600;
      user-select: none;
    }

    select, input[type="number"], input[type="text"] {
      width: 100%;
      padding: 10px 12px;
      font-size: 1rem;
      border: 1.8px solid #cbd5e1;
      border-radius: 6px;
      transition: border-color 0.25s;
    }
    select:focus, input[type="number"]:focus, input[type="text"]:focus {
      outline: none;
      border-color: #58a6ff;
      box-shadow: 0 0 4px #58a6ffaa;
    }

    button.convert-btn, button.calc-btn, button.clean-btn, button.start-btn, button.stop-btn {
      margin-top: 15px;
      padding: 12px 20px;
      font-weight: 700;
      background: #58a6ff;
      color: white;
      border: none;
      border-radius: 8px;
      cursor: pointer;
      transition: background 0.3s;
      user-select: none;
    }
    button.convert-btn:hover, button.calc-btn:hover, button.clean-btn:hover, button.start-btn:hover, button.stop-btn:hover {
      background: #1c7ed6;
    }
    button.stop-btn {
      background: #d64545;
    }
    button.stop-btn:hover {
      background: #a42e2e;
    }

    p.result {
      margin-top: 15px;
      font-weight: 600;
      font-size: 1.1rem;
      color: #24292e;
      user-select: text;
      min-height: 28px;
    }

    /* Responsive */
    @media (max-width: 760px) {
      nav {
        position: relative;
        width: 100%;
        height: auto;
        flex-direction: row;
        padding: 10px;
        overflow-x: auto;
      }
      nav h1, nav p {
        display: none;
      }
      nav button {
        flex: 1 0 auto;
        margin: 0 5px;
        font-size: 0.9rem;
        padding: 10px 5px;
        justify-content: center;
      }
      main {
        margin-left: 0;
        padding: 15px;
      }
      section {
        margin-bottom: 20px;
      }
    }

  </style>
</head>
<body>

  <nav>
    <h1>Toolbox</h1>
    <p>Your Daily Utility Hub</p>
    <button class="active" data-section="converter" title="Unit Converter">
      <svg viewBox="0 0 24 24"><path d="M5 3v2h14v14h-2v2h4v-18z"/><path d="M3 9v11h11v-2h2v4H3z"/></svg>
      Converter
    </button>
    <button data-section="calculator" title="Calculator">
      <svg viewBox="0 0 24 24"><path d="M19 3H5c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2zM8 17H6v-2h2v2zm4 0h-2v-2h2v2zm4 0h-2v-2h2v2zm0-4h-2v-2h2v2zm-4 0h-2v-2h2v2zm-4 0H6v-2h2v2zm8-4h-8V7h8v2z"/></svg>
      Calculator
    </button>
    <button data-section="timer" title="Timer">
      <svg viewBox="0 0 24 24"><path d="M15.07 1h-6.14v2h6.14V1zM12 6c-3.31 0-6 2.69-6 6s2.69 6 6 6c3.3 0 6-2.69 6-6s-2.7-6-6-6zm0 10c-2.21 0-4-1.79-4-4 0-2.22 1.79-4 4-4s4 1.78 4 4c0 2.21-1.79 4-4 4z"/></svg>
      Timer
    </button>
    <button data-section="percentage" title="Percentage Calculator">
      <svg viewBox="0 0 24 24"><path d="M19 3H5c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2zM8.5 14.5L10 13l1.5 1.5-1.5 1.5-1.5-1.5zM6 11l3 5h2v-2H9.75L11 12l-3-5H6v4z"/></svg>
      Percentage
    </button>
    <button data-section="textcleaner" title="Text Cleaner">
      <svg viewBox="0 0 24 24"><path d="M20 6H4v12h16V6zm-4 7H8v-2h8v2z"/></svg>
      Text Cleaner
    </button>
  </nav>

  <main>
    <!-- Converter -->
    <section id="converter" class="active">
      <h2>Unit Converter</h2>
      <label for="category">Category</label>
      <select id="category">
        <option value="length">Length</option>
        <option value="weight">Weight</option>
        <option value="volume">Volume</option>
      </select>

      <label for="unit-from">From</label>
      <select id="unit-from"></select>

      <label for="unit-to">To</label>
      <select id="unit-to"></select>

      <label for="value">Value</label>
      <input type="number" id="value" placeholder="Enter a number" />

      <button class="convert-btn" id="convert-btn">Convert</button>
      <p class="result" id="result">Result: </p>
    </section>

    <!-- Calculator -->
    <section id="calculator">
      <h2>Calculator</h2>
      <input type="text" id="calc-input" placeholder="Enter an expression, e.g. 3+4*2" />
      <button class="calc-btn" id="calc-btn">Calculate</button>
      <p class="result" id="calc-result">Result: </p>
    </section>

    <!-- Timer -->
    <section id="timer">
      <h2>Timer</h2>
      <label for="timer-input">Minutes</label>
      <input type="number" id="timer-input" min="0" placeholder="Enter minutes" />
      <div style="margin-top:10px;">
        <button class="start-btn" id="start-timer">Start</button>
        <button class="stop-btn" id="stop-timer" disabled>Stop</button>
      </div>
      <p class="result" id="timer-result">00:00</p>
    </section>

    <!-- Percentage Calculator -->
    <section id="percentage">
      <h2>Percentage Calculator</h2>
      <label for="base-value">Base value</label>
      <input type="number" id="base-value" placeholder="Enter base value" />

      <label for="percentage-rate">Percentage (%)</label>
      <input type="number" id="percentage-rate" placeholder="Enter percentage" />

      <button class="calc-btn" id="calc-percentage">Calculate</button>
      <p class="result" id="result-percentage"></p>
    </section>

    <!-- Text Cleaner -->
    <section id="textcleaner">
      <h2>Text Cleaner</h2>
      <label for="text-input">Text</label>
      <textarea id="text-input" rows="6" style="width:100%; padding:10px; border-radius:6px; border:1.8px solid #cbd5e1;"></textarea>
      <button class="clean-btn" id="clean-btn">Clean Text</button>
      <p class="result" id="result-cleaner"></p>
    </section>
  </main>

  <script>
    // Navigation
    const navButtons = document.querySelectorAll('nav button');
    const sections = document.querySelectorAll('main section');

    navButtons.forEach(btn => {
      btn.addEventListener('click', () => {
        navButtons.forEach(b => b.classList.remove('active'));
        btn.classList.add('active');
        const secId = btn.getAttribute('data-section');
        sections.forEach(s => s.classList.remove('active'));
        document.getElementById(secId).classList.add('active');
      });
    });

    // Units data and conversion
    const categories = {
      length: {
        units: {
          m: { name: "Meter (m)", toBase: v => v, fromBase: v => v },
          cm: { name: "Centimeter (cm)", toBase: v => v / 100, fromBase: v => v * 100 },
          km: { name: "Kilometer (km)", toBase: v => v * 1000, fromBase: v => v / 1000 },
          in: { name: "Inch (in)", toBase: v => v * 0.0254, fromBase: v => v / 0.0254 },
          ft: { name: "Foot (ft)", toBase: v => v * 0.3048, fromBase: v => v / 0.3048 }
        }
      },
      weight: {
        units: {
          kg: { name: "Kilogram (kg)", toBase: v => v, fromBase: v => v },
          g: { name: "Gram (g)", toBase: v => v / 1000, fromBase: v => v * 1000 },
          lb: { name: "Pound (lb)", toBase: v => v * 0.453592, fromBase: v => v / 0.453592 },
          oz: { name: "Ounce (oz)", toBase: v => v * 0.0283495, fromBase: v => v / 0.0283495 }
        }
      },
      volume: {
        units: {
          l: { name: "Liter (l)", toBase: v => v, fromBase: v => v },
          ml: { name: "Milliliter (ml)", toBase: v => v / 1000, fromBase: v => v * 1000 },
          gal: { name: "Gallon (gal)", toBase: v => v * 3.78541, fromBase: v => v / 3.78541 },
          cup: { name: "Cup", toBase: v => v * 0.24, fromBase: v => v / 0.24 }
        }
      }
    };

    const categorySelect = document.getElementById('category');
    const unitFromSelect = document.getElementById('unit-from');
    const unitToSelect = document.getElementById('unit-to');
    const valueInput = document.getElementById('value');
    const convertBtn = document.getElementById('convert-btn');
    const resultP = document.getElementById('result');

    function populateUnits(category) {
      unitFromSelect.innerHTML = '';
      unitToSelect.innerHTML = '';
      const units = categories[category].units;
      for (const key in units) {
        const optionFrom = document.createElement('option');
        optionFrom.value = key;
        optionFrom.textContent = units[key].name;
        unitFromSelect.appendChild(optionFrom);

        const optionTo = document.createElement('option');
        optionTo.value = key;
        optionTo.textContent = units[key].name;
        unitToSelect.appendChild(optionTo);
      }
      unitToSelect.selectedIndex = 1;
    }
    populateUnits(categorySelect.value);

    categorySelect.addEventListener('change', () => {
      populateUnits(categorySelect.value);
      resultP.textContent = 'Result: ';
      valueInput.value = '';
    });

    convertBtn.addEventListener('click', () => {
      const category = categorySelect.value;
      const fromUnit = unitFromSelect.value;
      const toUnit = unitToSelect.value;
      const val = parseFloat(valueInput.value);
      if (isNaN(val)) {
        resultP.textContent = 'Please enter a valid number.';
        return;
      }
      if (fromUnit === toUnit) {
        resultP.textContent = `Result: ${val}`;
        return;
      }
      const toBase = categories[category].units[fromUnit].toBase(val);
      const fromBase = categories[category].units[toUnit].fromBase(toBase);
      resultP.textContent = `Result: ${fromBase.toFixed(4)}`;
    });

    // Calculator
    const calcInput = document.getElementById('calc-input');
    const calcBtn = document.getElementById('calc-btn');
    const calcResult = document.getElementById('calc-result');

    calcBtn.addEventListener('click', () => {
      const expr = calcInput.value;
      try {
        // eslint-disable-next-line no-eval
        const val = eval(expr);
        if (val === undefined) throw new Error();
        calcResult.textContent = `Result: ${val}`;
      } catch {
        calcResult.textContent = 'Invalid expression.';
      }
    });

    // Timer
    const timerInput = document.getElementById('timer-input');
    const startTimerBtn = document.getElementById('start-timer');
    const stopTimerBtn = document.getElementById('stop-timer');
    const timerResult = document.getElementById('timer-result');
    let timerId = null;
    let timerSecondsLeft = 0;

    function formatTime(s) {
      const m = Math.floor(s / 60);
      const sec = s % 60;
      return `${m.toString().padStart(2, '0')}:${sec.toString().padStart(2, '0')}`;
    }

    startTimerBtn.addEventListener('click', () => {
      let mins = parseInt(timerInput.value);
      if (isNaN(mins) || mins < 0) {
        timerResult.textContent = 'Enter a valid positive number.';
        return;
      }
      timerSecondsLeft = mins * 60;
      timerResult.textContent = formatTime(timerSecondsLeft);
      startTimerBtn.disabled = true;
      stopTimerBtn.disabled = false;

      timerId = setInterval(() => {
        timerSecondsLeft--;
        timerResult.textContent = formatTime(timerSecondsLeft);
        if (timerSecondsLeft <= 0) {
          clearInterval(timerId);
          timerResult.textContent = 'Time is up!';
          startTimerBtn.disabled = false;
          stopTimerBtn.disabled = true;
        }
      }, 1000);
    });

    stopTimerBtn.addEventListener('click', () => {
      clearInterval(timerId);
      timerResult.textContent = 'Timer stopped.';
      startTimerBtn.disabled = false;
      stopTimerBtn.disabled = true;
    });

    // Percentage calculator
    const baseValueInput = document.getElementById('base-value');
    const percentageRateInput = document.getElementById('percentage-rate');
    const calcPercentageBtn = document.getElementById('calc-percentage');
    const resultPercentage = document.getElementById('result-percentage');

    calcPercentageBtn.addEventListener('click', () => {
      const baseVal = parseFloat(baseValueInput.value);
      const perc = parseFloat(percentageRateInput.value);
      if (isNaN(baseVal) || isNaN(perc)) {
        resultPercentage.textContent = 'Please enter valid numbers.';
        return;
      }
      const res = (baseVal * perc) / 100;
      resultPercentage.textContent = `${perc}% of ${baseVal} = ${res.toFixed(4)}`;
    });

    // Text Cleaner
    const textInput = document.getElementById('text-input');
    const cleanBtn = document.getElementById('clean-btn');
    const resultCleaner = document.getElementById('result-cleaner');

    cleanBtn.addEventListener('click', () => {
      let text = textInput.value;
      if (!text.trim()) {
        resultCleaner.textContent = 'Enter some text.';
        return;
      }
      // Remove extra spaces, tabs, newlines etc.
      text = text.replace(/\s+/g, ' ').trim();
      resultCleaner.textContent = text;
    });
  </script>

</body>
</html>
